<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorías - Estudiante</title>
    <link rel="icon" type="image/png" href="/ProyectosMM-main-main/ProyectosMM-main/Interfaces/burguer.png">
    <link rel="stylesheet" href="alumnos.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <h1>Tutorías</h1>
                </div>
                <div class="user-info">
                    <span class="user-name"></span>
                    <div class="user-avatar" onclick="showUserMenu(event)">
                        <span class="avatar-initials" id="studentInitials"></span>
                    </div>

                    <div class="user-menu" id="userMenu" style="display:none;">
                        <a id="menuProfileBtn" class="dropdown-item" href="#" onclick="openProfileModal(event)">
                            <i class="fas fa-user"></i> Mi Perfil
                        </a>
                        <hr>
                        <a href="/index.html" onclick="logout()" class="logout-link">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileMenu()"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <nav class="nav-menu">
                <ul>
                    <li class="nav-item active" data-section="inicio">
                        <a href="#" class="nav-link" onclick="loadSection('inicio')">
                            <i class="fas fa-home"></i>
                            <span>Inicio</span>
                        </a>
                    </li>
                    <li class="nav-item" data-section="tutores">
                        <a href="#" class="nav-link" onclick="loadSection('tutores')">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>Buscar Tutores</span>
                        </a>
                    </li>
                    <li class="nav-item" data-section="horarios">
                        <a href="#" class="nav-link" onclick="loadSection('horarios')">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Horarios</span>
                        </a>
                    </li>
                    <li class="nav-item" data-section="valoraciones">
                        <a href="#" class="nav-link" onclick="loadSection('valoraciones')">
                            <i class="fas fa-star"></i>
                            <span>Valoraciones</span>
                        </a>
                    </li>
                    <li class="nav-item" data-section="recordatorios">
                        <a href="#" class="nav-link" onclick="loadSection('recordatorios')">
                            <i class="fas fa-bell"></i>
                            <span>Recordatorios</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Contenido dinámico se carga aquí -->
        </main>
    </div>

    <!-- Templates para las secciones -->
    <template id="inicioTemplate">
            <div class="content-header">
            <h2>Bienvenido <span id="studentWelcomeName"></span></h2>
            <p>Gestiona tu aprendizaje y mantén contacto con tus tutores</p>
            </div>

        <!-- Dashboard Cards -->
        <div class="dashboard-cards">
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="card-content">
               
                    <p>Tutores Disponibles</p>
                </div>
            </div>
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="card-content">
                   
                    <p>Sesiones Programadas</p>
                </div>
            </div>
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="card-content">
                    
                    <p>Promedio Valoraciones</p>
                </div>
            </div>
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="card-content">
                    
                    <p>Horas de Apoyo</p>
                </div>
            </div>
        </div>

        <!-- Próximas Sesiones -->
        <div class="upcoming-sessions">
            <div class="sessions-panel">
                <div class="panel-header">
                    <h3><i class="fas fa-calendar-alt"></i> Próximas Sesiones</h3>
                    <button class="btn btn-primary" onclick="loadSection('tutores')">
                        <i class="fas fa-plus"></i> Nueva Tutoría
                    </button>
                </div>
                <div class="sessions-list">
                    <!-- Las próximas sesiones se cargarán dinámicamente desde el backend -->
                    </div>
                </div>
            </div>

        <!-- Actividad Reciente -->
        <div class="recent-activity">
            <div class="activity-panel">
                <div class="panel-header">
                    <h3><i class="fas fa-clock"></i> Actividad Reciente</h3>
                    <button class="btn btn-outline" onclick="showAllActivity()">Ver Todo</button>
                </div>
                <div class="activity-list">
                    <!-- Las actividades recientes se cargarán dinámicamente desde el backend -->
                </div>
            </div>
        </div>
    </template>


    <template id="tutoresTemplate">
        <div class="content-header">
            <h2>Buscar Tutores</h2>
            <p>Encuentra el tutor perfecto para tus necesidades de aprendizaje</p>
    </div>

        <div class="search-filters">
            <div class="filter-group">
                <label>Área de Apoyo</label>
                <select id="areaFilter">
                    <option value="">Todas las áreas</option>
                    <option value="matematicas">Matemáticas</option>
                    <option value="ciencias">Ciencias</option>
                    <option value="lenguaje">Lenguaje</option>
                    <option value="general">Apoyo General</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Modalidad</label>
                <select id="modalityFilter">
                    <option value="">Todas las modalidades</option>
                    <option value="presencial">Presencial</option>
                    <option value="virtual">Virtual</option>
                    <option value="both">Ambas</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Día de la Semana</label>
                <select id="dayFilter">
                    <option value="">Cualquier día</option>
                    <option value="monday">Lunes</option>
                    <option value="tuesday">Martes</option>
                    <option value="wednesday">Miércoles</option>
                    <option value="thursday">Jueves</option>
                    <option value="friday">Viernes</option>
                    <option value="saturday">Sábado</option>
                    <option value="sunday">Domingo</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Hora Preferida</label>
                <select id="timeFilter">
                    <option value="">Cualquier hora</option>
                    <option value="08:00">08:00 AM</option>
                    <option value="09:00">09:00 AM</option>
                    <option value="10:00">10:00 AM</option>
                    <option value="11:00">11:00 AM</option>
                    <option value="12:00">12:00 PM</option>
                    <option value="13:00">01:00 PM</option>
                    <option value="14:00">02:00 PM</option>
                    <option value="15:00">03:00 PM</option>
                    <option value="16:00">04:00 PM</option>
                    <option value="17:00">05:00 PM</option>
                    <option value="18:00">06:00 PM</option>
                    <option value="19:00">07:00 PM</option>
                    <option value="20:00">08:00 PM</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Duración</label>
                <select id="durationFilter">
                    <option value="">Cualquier duración</option>
                    <option value="30">30 minutos</option>
                    <option value="45">45 minutos</option>
                    <option value="60">60 minutos</option>
                    <option value="90">90 minutos</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="searchTutors()">
                <i class="fas fa-search"></i> Buscar Tutores
            </button>
        </div>

        <div class="tutors-results">
            <!-- Los tutores se cargarán dinámicamente desde el backend -->
        </div>

        <!-- Formulario de solicitud (inicialmente oculto) -->
        <div class="booking-section" id="bookingSection" style="display: none;">
            <div class="panel-header">
                <h3><i class="fas fa-calendar-plus"></i> Solicitar Sesión de Apoyo</h3>
                <button class="btn btn-secondary" onclick="closeBookingSection()">Cerrar</button>
            </div>
            <div class="booking-content">
                <div class="booking-form">
                    <form id="bookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Tutor Seleccionado</label>
                                <input type="text" id="selectedTutor" readonly>
                            </div>
                            <div class="form-group">
                                <label>Área de Apoyo</label>
                                <select name="area" required>
                                    <option value="">Seleccionar área</option>
                                    <option value="matematicas">Matemáticas</option>
                                    <option value="ciencias">Ciencias</option>
                                    <option value="lenguaje">Lenguaje</option>
                                    <option value="general">Apoyo General</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Objetivo de la Sesión *</label>
                            <textarea name="objective" rows="3" placeholder="Describe qué quieres lograr en esta sesión de apoyo académico..." required></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Fecha Preferida *</label>
                                <input type="date" name="date" required min="">
                            </div>
                            <div class="form-group">
                                <label>Hora Preferida *</label>
                                <select name="time" required>
                                    <option value="">Seleccionar hora</option>
                                    <option value="08:00">08:00 AM</option>
                                    <option value="09:00">09:00 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="13:00">01:00 PM</option>
                                    <option value="14:00">02:00 PM</option>
                                    <option value="15:00">03:00 PM</option>
                                    <option value="16:00">04:00 PM</option>
                                    <option value="17:00">05:00 PM</option>
                                    <option value="18:00">06:00 PM</option>
                                    <option value="19:00">07:00 PM</option>
                                    <option value="20:00">08:00 PM</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Duración *</label>
                                <select name="duration" required>
                                    <option value="">Seleccionar duración</option>
                                    <option value="30">30 minutos</option>
                                    <option value="45">45 minutos</option>
                                    <option value="60">1 hora</option>
                                    <option value="90">1.5 horas</option>
                                    <option value="120">2 horas</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Modalidad *</label>
                                <select name="modality" required onchange="toggleLocationField(this)">
                                    <option value="">Seleccionar modalidad</option>
                                    <option value="presencial">Presencial</option>
                                    <option value="virtual">Virtual</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group" id="locationField">
                            <label id="locationLabel">Ubicación/Enlace *</label>
                            <input type="text" name="location" placeholder="Aula específica o enlace de Zoom" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Comentarios Adicionales</label>
                            <textarea name="comments" rows="2" placeholder="Información adicional que el tutor deba conocer..."></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="closeBookingSection()">Cancelar</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Enviar Solicitud
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </template>

    <!-- Modal de Detalles de Sesión -->
    <div class="session-modal" id="sessionModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="sessionTitle">(Pendiente de Confirmar)</h3>
                <span class="close" onclick="closeSessionModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="session-details">
                    <div class="detail-item">
                        <i class="fas fa-user-tie"></i>
                        <div class="detail-content">
                            <label>Tutor:</label>
                            <span id="sessionTutor"></span>
                            <div class="tutor-rating" id="sessionRating">
                                <i class="far fa-star"></i>
                                <i class="far fa-star"></i>
                                <i class="far fa-star"></i>
                                <i class="far fa-star"></i>
                                <i class="far fa-star"></i>
                                <span>0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-calendar"></i>
                        <div class="detail-content">
                            <label>Fecha:</label>
                            <span id="sessionDate"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-clock"></i>
                        <div class="detail-content">
                            <label>Hora:</label>
                            <span id="sessionTime"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-video"></i>
                        <div class="detail-content">
                            <label>Modalidad:</label>
                            <span id="sessionModality"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-link"></i>
                        <div class="detail-content">
                            <label>Enlace:</label>
                            <span id="sessionLink"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="detail-content">
                            <label>Ubicación:</label>
                            <span id="sessionLocation"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-hourglass-half"></i>
                        <div class="detail-content">
                            <label>Duración:</label>
                            <span id="sessionDuration"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-bullseye"></i>
                        <div class="detail-content">
                            <label>Objetivo:</label>
                            <span id="sessionObjective"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-sync-alt"></i>
                        <div class="detail-content">
                            <label>Reprogramaciones:</label>
                            <span id="sessionReschedules"></span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div class="detail-content">
                            <label>Política:</label>
                            <span id="sessionPolicy"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" onclick="cancelSessionFromModal()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button class="btn btn-success" onclick="rescheduleSessionFromModal()">
                    <i class="fas fa-calendar-alt"></i> Reprogramar
                </button>
                <button class="btn btn-secondary" onclick="closeSessionModal()">
                    <i class="fas fa-times"></i> Cerrar
                </button>
            </div>
        </div>
    </div>

<!-- Modal Perfil -->
<div id="profileModal" class="modal-overlay" style="display:none;">
  <div class="modal-card">
    <div class="modal-header">
      <h3><i class="fas fa-user"></i> Mi Perfil</h3>
      <button class="modal-close" onclick="closeProfileModal()">&times;</button>
    </div>
    <div class="modal-body" id="profileBody">
      <!-- aquí se inyecta -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeProfileModal()">
        <i class="fas fa-times"></i> Cerrar
      </button>
    </div>
  </div>
</div>



    <script src="/Interfaces/backend-config.js"></script>
    <script src="/Interfaces/integration-connections.js"></script>
    <script src="alumnos.js"></script>

</body>
</html>

